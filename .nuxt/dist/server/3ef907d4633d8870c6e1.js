exports.ids=[7],exports.modules={177:function(t,e,c){"use strict";c.r(e);c(4);var d={name:"Create",layout:"Manage",components:{Loader:c(5).a},data(){return{sellTicket:!0,privateEvent:!1,showCategory:!1,selectedCategoryName:null,ticketTypeNo:null,categories:[],processing:!1,showFilteredLocation:!1,userEnteredLocation:"",filteredLocation:[],states:["Lagos","Abuja","Markurdi","Ogun","Kaduna","Katsina","Ondo","Anambra"],event:{easy_id:this.$store.getters.getUser.id,easy_apikey:this.$store.getters.getUser.apiKey,event_name:"",category:"",location:"",address:"",start_time:"",start_date:"",end_date:"",end_time:"",about_event:"",facebook_link:"",twitter_link:"",instagram_link:"",youtube_link:"",selling_ticket_status:1,event_type:"public",number_of_attendees:1,tickets:[{name:"",price:"",description:""}]}}},watch:{userEnteredLocation(t){this.userEnteredLocation.length<=0?(this.showFilteredLocation=!1,this.filteredLocation=[]):(this.filteredLocation=this.states.filter(e=>e.includes(this.toUpperCase(t))),this.showFilteredLocation=!0)}},methods:{toUpperCase:t=>t.charAt(0).toUpperCase()+t.slice(1),selectLocation(t){this.userEnteredLocation=t,this.event.location=t,setTimeout(()=>{this.showFilteredLocation=!1},100)},add(){this.event.number_of_attendees=parseInt(this.event.number_of_attendees)+1},minus(){this.event.number_of_attendees>1&&(this.event.number_of_attendees-=1)},addTicketType(){this.event.tickets.push({name:"",price:"",description:""})},removeTicketType(){this.event.tickets.length>1&&this.event.tickets.pop()},togglePrivateType(t){this.privateEvent="private"===t,this.event.event_type="private"===t?"private":"public"},saveEvent(){this.processing=!0,this.$store.dispatch("event/createEvent",{...this.event}).then(t=>{this.processing=!1,this.$toast.show("Your event was saved successfully!",{type:"error"})}).catch(t=>console.log(t))},postEvent(){this.processing=!0,this.$store.dispatch("event/createEvent",{...this.event}).then(t=>{!0===t.error&&this.$toast.show("An error occured. Please try again",{type:"error"}),this.processing=!1,this.$toast.show("Event saved. redirecting to website",{onComplete:()=>{this.$router.push("/manage/website/"+t.event._id)},type:"error"})}).catch(t=>console.log(t))},selectCategory(t){this.showCategory=!1,this.selectedCategoryName=t.name,this.event.category=t.id}},mounted(){this.$axios.$get("/category/getAll").then(({categories:t})=>{console.log(t),this.categories=t}).catch(t=>console.log(t))}},r=c(1);var component=Object(r.a)(d,function(){var t=this,e=t.$createElement,d=t._self._c||e;return d("section",{staticClass:"container",attrs:{id:"create-page"}},[t.processing?d("Loader"):t._e(),t._ssrNode(" "),t._ssrNode('<div class="intro" data-v-2adc77cf>',"</div>",[t._ssrNode('<div class="mobile" data-v-2adc77cf><a class="save-btn" data-v-2adc77cf><img'+t._ssrAttr("src",c(82))+' data-v-2adc77cf></a> <a class="btn" data-v-2adc77cf>Publish</a></div> '),t._ssrNode('<div class="info" data-v-2adc77cf>',"</div>",[t._ssrNode('<div class="left" data-v-2adc77cf>',"</div>",[d("nuxt-link",{attrs:{to:"/manage"}},[d("img",{staticStyle:{width:"20px"},attrs:{src:c(87)}})]),t._ssrNode(' <h3 class="title desktop" data-v-2adc77cf>Create your free event</h3> <h3 class="title" data-v-2adc77cf>Create event</h3> <p class="sub" data-v-2adc77cf>Create your event in less than 5 mins</p>')],2),t._ssrNode(' <div class="right" data-v-2adc77cf><a class="btn save" data-v-2adc77cf><img'+t._ssrAttr("src",c(82))+' alt data-v-2adc77cf></a> <a class="btn" data-v-2adc77cf>Publish</a></div>')],2)],2),t._ssrNode(" "),t._ssrNode("<form data-v-2adc77cf>","</form>",[t._ssrNode('<div class="form" data-v-2adc77cf>',"</div>",[t._ssrNode('<div class="top" data-v-2adc77cf>',"</div>",[t._ssrNode('<div class="left" data-v-2adc77cf>',"</div>",[t._ssrNode('<div class="form-group" data-v-2adc77cf><input type="text" placeholder="Title of your event"'+t._ssrAttr("value",t.event.event_name)+" data-v-2adc77cf></div> "),t._ssrNode('<div class="form-group cat" data-v-2adc77cf>',"</div>",[t._ssrNode('<div class="category" data-v-2adc77cf>'+t._ssrEscape("\n              "+t._s(t.selectedCategoryName?t.selectedCategoryName:"Select Category")+"\n            ")+"</div> "),d("transition",{attrs:{name:"fade"}},[d("div",{directives:[{name:"show",rawName:"v-show",value:t.showCategory,expression:"showCategory"}],staticClass:"category-options-wrapper"},t._l(t.categories,function(e){return d("div",{staticClass:"category-options",on:{click:function(c){return t.selectCategory({id:e._id,name:e.category_name})}}},[t._v("\n                  "+t._s(e.category_name)+"\n                ")])}),0)])],2),t._ssrNode(" "),t._ssrNode('<div class="form-group states" data-v-2adc77cf>',"</div>",[t._ssrNode('<input type="text" placeholder="Location. eg. Lagos"'+t._ssrAttr("value",t.userEnteredLocation)+" data-v-2adc77cf> "),d("transition",{attrs:{name:"fade"}},[t.showFilteredLocation?d("div",{staticClass:"states-wrapper"},t._l(t.filteredLocation,function(e,i){return d("span",{key:i,staticClass:"state",on:{click:function(c){return t.selectLocation(e)}}},[t._v(t._s(e))])}),0):t._e()])],2),t._ssrNode(' <div class="form-group" data-v-2adc77cf><input type="text" placeholder="Address"'+t._ssrAttr("value",t.event.address)+" data-v-2adc77cf></div>")],2),t._ssrNode(" "),t._ssrNode('<div class="right" data-v-2adc77cf>',"</div>",[t._ssrNode('<div class="form-group text desktop" data-v-2adc77cf><textarea placeholder="Describe your event" class="desc" data-v-2adc77cf>'+t._ssrEscape(t._s(t.event.about_event))+"</textarea></div> "),t._ssrNode('<div class="right-bottom" data-v-2adc77cf>',"</div>",[t._ssrNode('<div class="form-group" data-v-2adc77cf>',"</div>",[d("datetime",{staticClass:"input theme-blue",staticStyle:{cursor:"pointer"},attrs:{placeholder:"Start date",type:"date","input-class":"select","use12-hour":""},model:{value:t.event.start_date,callback:function(e){t.$set(t.event,"start_date",e)},expression:"event.start_date"}})],1),t._ssrNode(" "),t._ssrNode('<div class="form-group" data-v-2adc77cf>',"</div>",[d("datetime",{staticClass:"input theme-blue",staticStyle:{cursor:"pointer"},attrs:{placeholder:"Start time",type:"time","use12-hour":"","input-class":"select","minute-step":"15"},model:{value:t.event.start_time,callback:function(e){t.$set(t.event,"start_time",e)},expression:"event.start_time"}})],1),t._ssrNode(" "),t._ssrNode('<div class="form-group" data-v-2adc77cf>',"</div>",[d("datetime",{staticClass:"input theme-blue",staticStyle:{cursor:"pointer"},attrs:{placeholder:"End date",type:"date","input-class":"select"},model:{value:t.event.end_date,callback:function(e){t.$set(t.event,"end_date",e)},expression:"event.end_date"}})],1),t._ssrNode(" "),t._ssrNode('<div class="form-group" data-v-2adc77cf>',"</div>",[d("datetime",{staticClass:"input theme-blue",staticStyle:{cursor:"pointer"},attrs:{placeholder:"End time","minute-step":"15",type:"time","use12-hour":"","input-class":"select"},model:{value:t.event.end_time,callback:function(e){t.$set(t.event,"end_time",e)},expression:"event.end_time"}})],1)],2)],2),t._ssrNode(' <div class="form-group text mobile" data-v-2adc77cf><textarea placeholder="Describe your event" class="desc" data-v-2adc77cf>'+t._ssrEscape(t._s(t.event.about_event))+"</textarea></div>")],2),t._ssrNode(' <div class="bottom" data-v-2adc77cf><div class="tickets" data-v-2adc77cf><p class="heading" data-v-2adc77cf>Create event ticket</p> <div class="question" data-v-2adc77cf><p data-v-2adc77cf> What kind of event is this? </p> <div class="answer" data-v-2adc77cf><span'+t._ssrClass("option",{selected:!t.privateEvent})+" data-v-2adc77cf>Public</span> <span"+t._ssrClass("option",{selected:t.privateEvent})+' data-v-2adc77cf>Private</span></div></div> <div class="question" data-v-2adc77cf><p data-v-2adc77cf> How many people are you expecting </p> <div class="expectation" data-v-2adc77cf><span class="minus" data-v-2adc77cf> - </span> <input'+t._ssrAttr("value",t.event.number_of_attendees)+' class="display" data-v-2adc77cf> <span class="add" data-v-2adc77cf> + </span></div></div></div> <div class="connect" data-v-2adc77cf><p class="heading" data-v-2adc77cf>Connect</p> <p class="sub" data-v-2adc77cf>Upload your Social contact here</p> <div class="form-group" data-v-2adc77cf><input type="text" placeholder="YouTube embedded link"'+t._ssrAttr("value",t.event.youtube_link)+' data-v-2adc77cf></div> <div class="form-group" data-v-2adc77cf><input type="text" placeholder="Instagram page link"'+t._ssrAttr("value",t.event.instagram_link)+' data-v-2adc77cf></div> <div class="form-group" data-v-2adc77cf><input type="text" placeholder="Facebook page link"'+t._ssrAttr("value",t.event.facebook_link)+' data-v-2adc77cf></div> <div class="form-group" data-v-2adc77cf><input type="text" placeholder="Twitter page link"'+t._ssrAttr("value",t.event.twitter_link)+' data-v-2adc77cf></div></div></div> <div class="pricing"'+t._ssrStyle(null,null,{display:t.sellTicket?"":"none"})+' data-v-2adc77cf><div class="top" data-v-2adc77cf><p class="sub" data-v-2adc77cf> Choose other ticket types <small data-v-2adc77cf>*Tickets cannot be edited after creation</small></p> <div class="expectation" data-v-2adc77cf><span class="minus" data-v-2adc77cf> - </span> '+(t.ticketTypeNo?'<input disabled="disabled"'+t._ssrAttr("value",t.ticketTypeNo)+' class="display" data-v-2adc77cf>':'<input disabled="disabled"'+t._ssrAttr("value",t.event.tickets.length)+' class="display" data-v-2adc77cf>')+' <span class="add" data-v-2adc77cf> + </span></div></div> <div class="ticket-row-wrapper" data-v-2adc77cf>'+t._ssrList(t.event.tickets,function(e,i){return'<div class="ticket-row" data-v-2adc77cf><div class="form-group" data-v-2adc77cf><span class="label" data-v-2adc77cf>Ticket Name</span> <input type="text" placeholder="Eg. Premium ticket"'+t._ssrAttr("value",e.name)+' data-v-2adc77cf></div> <div class="form-group" data-v-2adc77cf><span class="label" data-v-2adc77cf>Ticket Price</span> <input type="number"'+t._ssrAttr("value",e.price)+' data-v-2adc77cf></div> <div class="form-group" data-v-2adc77cf><span class="label" data-v-2adc77cf>Ticket Description</span> <input type="text"'+t._ssrAttr("value",e.description)+" data-v-2adc77cf></div></div>"})+'</div></div> <p class="yay" data-v-2adc77cf>\n        Yay! You\'re almost there.\n      </p> <div class="mobile bottom" data-v-2adc77cf><a class="save-btn" data-v-2adc77cf><img'+t._ssrAttr("src",c(82))+' data-v-2adc77cf></a> <a class="btn" data-v-2adc77cf>Publish</a></div> <div class="proceed" data-v-2adc77cf><a class="btn save" data-v-2adc77cf><img'+t._ssrAttr("src",c(82))+' alt data-v-2adc77cf></a> <a class="btn" data-v-2adc77cf>Publish</a></div>')],2)])],2)},[],!1,function(t){},"2adc77cf","2f2d9a92");e.default=component.exports},82:function(t,e,c){t.exports=c.p+"img/fab956e.svg"},87:function(t,e,c){t.exports=c.p+"img/f3a5f23.svg"}};
//# sourceMappingURL=3ef907d4633d8870c6e1.js.map