(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{249:function(t,e,c){t.exports=c.p+"img/f3a5f23.svg"},251:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzEuMjg1IiBoZWlnaHQ9IjMxLjI4NSIgdmlld0JveD0iMCAwIDMxLjI4NSAzMS4yODUiPgogIDxkZWZzPgogICAgPGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPgogICAgICA8cmVjdCB3aWR0aD0iMzEuMjg1IiBoZWlnaHQ9IjMxLjI4NSIgZmlsbD0ibm9uZSIvPgogICAgPC9jbGlwUGF0aD4KICA8L2RlZnM+CiAgPGcgaWQ9IlJlcGVhdF9HcmlkXzIiIGRhdGEtbmFtZT0iUmVwZWF0IEdyaWQgMiIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNi4yMTUgLTIzNC41KSI+CiAgICAgIDxwYXRoIGlkPSJpY29uczgtY2FuY2VsIiBkPSJNMTguNjQzLDNBMTUuNjQzLDE1LjY0MywwLDEsMCwzNC4yODUsMTguNjQzLDE1LjY1MywxNS42NTMsMCwwLDAsMTguNjQzLDNabTAsMS40MjJBMTQuMjIxLDE0LjIyMSwwLDEsMSw0LjQyMiwxOC42NDMsMTQuMjEsMTQuMjEsMCwwLDEsMTguNjQzLDQuNDIyWm0tNS43LDcuODE0YS43MTEuNzExLDAsMCwwLS41LDEuMjIxbDUuMTg1LDUuMTg1LTUuMTg1LDUuMTg1YS43MTEuNzExLDAsMSwwLDEuMDA2LDEuMDA2bDUuMTg1LTUuMTg2LDUuMTg1LDUuMTg1YS43MTEuNzExLDAsMSwwLDEuMDA2LTEuMDA2bC01LjE4Ni01LjE4NSw1LjE4NS01LjE4NWEuNzExLjcxMSwwLDEsMC0xLjAwNS0xLjAwNWwtNS4xODUsNS4xODUtNS4xODUtNS4xODVhLjcxMS43MTEsMCwwLDAtLjUxLS4yMTVaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMjMuMjE1IDIzMS41KSIgZmlsbD0iIzg4OTg5YiIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg=="},304:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNy43MzYiIGhlaWdodD0iMTkuMjMyIiB2aWV3Qm94PSIwIDAgMTcuNzM2IDE5LjIzMiI+CiAgPGcgaWQ9InN1cmZhY2UxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDApIiBvcGFjaXR5PSIwLjUiPgogICAgPHBhdGggaWQ9IlBhdGhfNTMxNCIgZGF0YS1uYW1lPSJQYXRoIDUzMTQiIGQ9Ik0xNS44MjIsMTAuOTY2YS41NzUuNTc1LDAsMCwwLS4wNjIuMDE1LjQ5NC40OTQsMCwwLDAtLjM4NS40OTNWMjEuNjA1bC0zLjA5NS0zLjA5NWEuNS41LDAsMCwwLS40NjItLjEzOS40OS40OSwwLDAsMC0uMzg1LjM0Ni41LjUsMCwwLDAsLjEzOS41bDMuOTQyLDMuOTQxLjM1NC4zMzkuMzU0LS4zMzksMy45NDEtMy45NDFhLjUuNSwwLDAsMC0uNzA4LS43MDhsLTMuMDk1LDMuMDk1VjExLjQ3NWEuNDkzLjQ5MywwLDAsMC0uNTM5LS41MDhaTTcsMTMuNDQ1VjMwLjJIMjQuNzM3VjEzLjQ0NUgxOS44MWEuNDkzLjQ5MywwLDEsMCwwLC45ODVoMy45NDFWMjkuMjExSDcuOTg1VjE0LjQzMWgzLjk0MWEuNDkzLjQ5MywwLDEsMCwwLS45ODVaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNyAtMTAuOTY0KSIgZmlsbD0iIzg4OTg5YiIvPgogIDwvZz4KPC9zdmc+Cg=="},356:function(t,e,c){"use strict";c.r(e);var l=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"actions"},[e("img",{attrs:{src:c(304)}}),this._v(" "),e("img",{attrs:{src:"",alt:""}})])}],n=(c(71),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"section"},[e("span",{staticClass:"label"},[this._v("Ticket Type")]),this._v(" "),e("p",[this._v("FREE")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"action"},[e("img",{attrs:{src:c(304),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("span",{staticClass:"label"},[this._v("Ticket type")]),this._v(" "),e("h3",[this._v("free")])])}]),v={props:["show","ticket","user"],computed:{qrValue:function(){return this.ticket?this.ticket.event_id._id+"#"+this.ticket._id:null}},methods:{}},o=c(2),r={layout:"Manage",components:{Ticket:Object(o.a)(v,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("section",{class:{show:t.show},attrs:{id:"ticket-modal"}},[l("div",{staticClass:"card-wrapper"},[l("div",{staticClass:"close"},[l("img",{attrs:{src:c(251),alt:""},on:{click:function(e){return t.$emit("close-ticket")}}})]),t._v(" "),l("div",{staticClass:"ticket"},[l("div",{staticClass:"top"},[l("div",[l("div",{staticClass:"section"},[l("span",{staticClass:"label"},[t._v("Ticket Reference")]),t._v(" "),l("h3",[t._v(t._s(t.ticket?t.ticket.ticket_reference:null))])]),t._v(" "),t._m(0)]),t._v(" "),t._m(1)]),t._v(" "),l("div",{staticClass:"bottom"},[l("div",{staticClass:"event-title"},[l("span",{staticClass:"label"},[t._v("Event Ticket")]),t._v(" "),l("h2",{staticClass:"title"},[t._v("\n                        "+t._s(t.ticket?t.ticket.event_id.event_name:null)+"\n                    ")])]),t._v(" "),l("div",{staticClass:"description"},[l("span",{staticClass:"label"},[t._v("Description")]),t._v(" "),l("p",{staticClass:"desc"},[t._v("\n                        "+t._s(t.ticket?t.ticket.event_id.about_event:null)+"\n                    ")])]),t._v(" "),l("div",{staticClass:"full-name"},[l("span",{staticClass:"label"},[t._v("Full Name")]),t._v(" "),l("h3",[t._v(t._s(t.user?t.user.fname+" "+t.user.lname:null))])]),t._v(" "),l("div",{staticClass:"grid"},[l("div",{staticClass:"extra"},[l("div",{staticClass:"name"},[l("span",{staticClass:"label"},[t._v("Location")]),t._v(" "),l("p",[t._v(t._s(t.ticket?t.ticket.event_id.location:null))])]),t._v(" "),l("div",{staticClass:"name"},[l("span",{staticClass:"label"},[t._v("Date")]),t._v(" "),l("p",[t._v(t._s(t._f("moment")(t.ticket.event_id.start_date,"dddd, MMMM Do YYYY")))])])]),t._v(" "),l("div",{staticClass:"barcode"},[t.ticket?l("qrcode",{attrs:{value:t.qrValue,tag:"img"}}):t._e()],1)])])]),t._v(" "),l("div",{ref:"ticket",staticClass:"big-ticket"},[l("div",{staticClass:"left"},[l("div",{staticClass:"form-group"},[l("span",{staticClass:"label"},[t._v("Full Name")]),t._v(" "),l("h3",[t._v(t._s(t.user.fname+" "+t.user.lname))])]),t._v(" "),l("div",{staticClass:"form-group ref"},[l("span",{staticClass:"label"},[t._v("Ticket Reference")]),t._v(" "),l("p",[t._v(t._s(t.ticket?t.ticket.ticket_reference:null))])]),t._v(" "),t._m(2),t._v(" "),l("div",{staticClass:"barcode"},[t.ticket?l("qrcode",{attrs:{value:t.qrValue,tag:"img"}}):t._e()],1)]),t._v(" "),l("div",{staticClass:"right"},[l("div",{staticClass:"form-group"},[l("span",{staticClass:"label"},[t._v("Event Ticket")]),t._v(" "),l("h1",[t._v(t._s(t.ticket?t.ticket.event_id.event_name:null))])]),t._v(" "),l("div",{staticClass:"form-group"},[l("span",{staticClass:"label"},[t._v("Description")]),t._v(" "),l("p",{staticClass:"desc"},[t._v(t._s(t.ticket?t.ticket.event_id.about_event:null)+"\n                        ")])]),t._v(" "),l("div",{staticClass:"form-group name"},[l("span",{staticClass:"label"},[t._v("Full Name")]),t._v(" "),l("h1",{staticClass:"name"},[t._v(t._s(t.user.fname+" "+t.user.lname))])]),t._v(" "),l("div",{staticClass:"misc"},[l("div",{staticClass:"form-group"},[l("span",{staticClass:"label"},[t._v("Location")]),t._v(" "),l("p",[t._v(t._s(t.ticket?t.ticket.event_id.location:null))])]),t._v(" "),l("div",{staticClass:"form-group"},[l("span",{staticClass:"label"},[t._v("Date")]),t._v(" "),l("p",[t._v(t._s(t._f("moment")(t.ticket.event_id.start_date,"dddd, MMMM Do YYYY")))])])])])])])])},n,!1,null,null,null).exports,Loader:c(29).a},data:function(){return{show:!1}},computed:{user:function(){return this.$store.getters.getUser}},asyncData:function(t){var e=t.$axios,c=t.store;return e.$get("/event/ticket/allUserTicket/"+c.getters.getUser.id).then(function(t){return console.log(t),{showTicket:!1,tickets:t.ticket,currentlyViewedTicket:t.ticket?t.ticket[0]:null}}).catch(function(t){return console.log(t)})},methods:{toggle:function(t,e){var body=document.querySelector("body"),html=document.querySelector("html");switch(t){case"close-ticket":this.showTicket=!1,body.classList.remove("no-scroll"),html.classList.remove("no-scroll");var c=Object.assign({},this.$route.query);delete c.ticket,this.$router.replace({query:c});break;case"open-ticket":this.showTicket=!0,this.currentlyViewedTicket=e,body.classList.add("no-scroll"),html.classList.add("no-scroll")}},used:function(t){if(t<(new Date).toISOString())return!0}},mounted:function(){var t=this;if(this.$route.query.ticket){this.show=!0;var body=document.querySelector("body"),html=document.querySelector("html");body.classList.add("no-scroll"),html.classList.add("no-scroll"),this.$axios.$get("/event/ticket/getTicket/"+this.$route.query.ticket).then(function(e){body.classList.remove("no-scroll"),html.classList.remove("no-scroll"),t.show=!1,t.currentlyViewedTicket=e.ticket,t.toggle("open-ticket")}).catch(function(t){return console.log(t)})}}},_=Object(o.a)(r,function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{attrs:{id:"ticket-page"}},[l("transition",{attrs:{name:"fade"}},[t.show?l("Loader"):t._e()],1),t._v(" "),t.tickets?l("Ticket",{attrs:{show:t.showTicket,ticket:t.currentlyViewedTicket,user:t.user},on:{"close-ticket":function(e){return t.toggle("close-ticket")}}}):t._e(),t._v(" "),l("div",{staticClass:"container"},[l("div",{staticClass:"intro"},[l("div",{staticClass:"left"},[l("nuxt-link",{attrs:{to:"/manage"}},[l("img",{staticStyle:{width:"20px"},attrs:{src:c(249)}})]),t._v(" "),l("h1",{staticClass:"lead"},[t._v("Your tickets")]),t._v(" "),l("p",{staticClass:"sub"},[t._v("View all your tickets")])],1),t._v(" "),l("div",{staticClass:"right",staticStyle:{display:"none"}},[l("nuxt-link",{staticClass:"create-btn",attrs:{to:"/manage/create"}},[t._v("Create Event")])],1)]),t._v(" "),t.tickets?l("div",{staticClass:"tickets-wrapper"},[t._l(t.tickets,function(e){return l("div",{key:e._id,staticClass:"ticket",class:{used:t.used(e.event_id.start_date)},on:{click:function(c){return t.toggle("open-ticket",e)}}},[l("div",{staticClass:"top"},[l("div",[l("h3",{staticClass:"title"},[t._v(t._s(e.event_id.event_name))]),t._v(" "),t._m(0,!0)]),t._v(" "),l("p",{staticClass:"desc"},[t._v(t._s(e.event_id.about_event.split(" ").splice(0,10).join(" ")+"...")+"\n                    ")])]),t._v(" "),l("div",{staticClass:"bottom"},[l("div",{staticClass:"name"},[l("span",{staticClass:"label"},[t._v("Full Name")]),t._v(" "),l("h3",[t._v(t._s(t.user.fname+" "+t.user.lname))])]),t._v(" "),l("div",{staticClass:"grid"},[l("div",{staticClass:"extra"},[l("div",{staticClass:"name"},[l("span",{staticClass:"label"},[t._v("Location")]),t._v(" "),l("p",[t._v(t._s(e.event_id.location))])]),t._v(" "),l("div",{staticClass:"name"},[l("span",{staticClass:"label"},[t._v("Date")]),t._v(" "),l("p",[t._v(t._s(t._f("moment")(e.event_id.start_date,"dddd, MMMM Do YYYY")))])])]),t._v(" "),l("div",{staticClass:"barcode"},[e?l("qrcode",{attrs:{value:e.event_id._id+"#"+e._id,options:{width:70,height:70},tag:"img"}}):t._e()],1)])])])}),t._v(" "),t._l(t.tickets,function(e){return l("div",{key:e._id,staticClass:"big-ticket",class:{used:t.used(e.event_id.start_date)},on:{click:function(c){return t.toggle("open-ticket",e)}}},[l("div",{staticClass:"left"},[l("div",{staticClass:"form-group"},[l("span",{staticClass:"label"},[t._v("Full Name")]),t._v(" "),l("h3",[t._v(t._s(t.user.fname+" "+t.user.lname))])]),t._v(" "),l("div",{staticClass:"form-group ref"},[l("span",{staticClass:"label"},[t._v("Ticket Reference")]),t._v(" "),l("p",[t._v(t._s(e.ticket_reference))])]),t._v(" "),l("div",{staticClass:"form-group"},[l("span",{staticClass:"label"},[t._v("Ticket type")]),t._v(" "),l("h3",[t._v(t._s(e.ticket_type))])]),t._v(" "),l("div",{staticClass:"barcode"},[e?l("qrcode",{attrs:{value:e.event_id._id+"#"+e._id,options:{width:70,height:70},tag:"img"}}):t._e()],1)]),t._v(" "),l("div",{staticClass:"right"},[l("div",{staticClass:"form-group"},[l("span",{staticClass:"label"},[t._v("Event Ticket")]),t._v(" "),l("h1",[t._v(t._s(e.event_id.event_name))])]),t._v(" "),l("div",{staticClass:"form-group"},[l("span",{staticClass:"label"},[t._v("Description")]),t._v(" "),l("p",{staticClass:"desc"},[t._v(" "+t._s(e.event_id.about_event)+"\n                        ")])]),t._v(" "),l("div",{staticClass:"form-group name"},[l("span",{staticClass:"label"},[t._v("Full Name")]),t._v(" "),l("h1",{staticClass:"name"},[t._v(t._s(t.user.fname+" "+t.user.lname))])]),t._v(" "),l("div",{staticClass:"misc"},[l("div",{staticClass:"form-group"},[l("span",{staticClass:"label"},[t._v("Location")]),t._v(" "),l("p",[t._v(t._s(e.event_id.location))])]),t._v(" "),l("div",{staticClass:"form-group"},[l("span",{staticClass:"label"},[t._v("Date")]),t._v(" "),l("p",[t._v(t._s(t._f("moment")(e.event_id.start_date,"dddd, MMMM Do YYYY")))])])])])])})],2):l("div",{staticStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},[t._v("\n            No Ticket found\n        ")])])],1)},l,!1,null,null,null);e.default=_.exports}}]);